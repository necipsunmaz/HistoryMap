var HistorySlider=function(n){var i=this,r=$("#"+n),c=r.find(".HistorySlider_Thumb"),u=r.find(".HistorySlider_Track"),t=r.find(".HistorySlider_TrackFill"),f=r.find(".HistorySlider_ClickArea"),e=r.find(".HistorySlider_Point");this.value=20;var o=function(n){var t=u.width(),i=t/200;return Math.round(n/i/10)},s=function(n){e.removeClass("HistorySlider_PointActive");e.eq(n).addClass("HistorySlider_PointActive")},a=function(n){n=(n/2).toFixed(1).toString().split(".").join("")+"%";t.css("width",n)},h=function(n,r){t.addClass("HistorySlider_TrackFill-stopAnimation");var f=t.width(),u=o(f);s(u);n.on("mousemove",function(n){var e=f+n.clientX-r;i.imitateNewValue(e);u=o(t.width());s(u)})},l=function(n){t.removeClass("HistorySlider_TrackFill-stopAnimation");n.off("mousemove");var r=o(t.width());i.updateSliderValue(r)};this.updateSliderValue=function(n){s(n);a(n);i.value=n};this.imitateNewValue=function(n){t.addClass("HistorySlider_TrackFill-stopAnimation");n>u.width()&&(n=u.width());t.css("width",n+"px")};f.on("mousedown",function(n){var t=$(n.target);if(t.hasClass("HistorySlider_Thumb"))return!1;i.imitateNewValue(n.offsetX);h($(this),n.clientX)});f.on("mouseup",function(){l($(this))});e.on("mousedown",function(n){n.stopPropagation();var t=$(this).position().left+$(this).width()/2;i.imitateNewValue(t);h(f,n.clientX)});c.on("mousedown",function(n){n.stopPropagation();h($(this),n.clientX)});c.on("mouseup",function(){l($(this))})},historySlider=new HistorySlider("HistorySlider");